<header class="container">
  <h1 class="text-left pt-1 font-weight-bold title" ><%= @article.title %></h1>
  <h2 class="text-left pb-1 subtitle"><%= @article.subtitle %></h2>
  <hr>
  <%= social_share_button_tag(@article.title) %>
  <%= cl_image_tag @article.photo.key, crop: :fill, gravity: :auto, class: "card-img-top" %>
  <div class="d-flex justify-content-start align-items-end pt-3">
    <p class="reporter-name"><strong><em>By <%= @article.user.email %></em></strong></p>
    <%= cl_image_tag @article.user.avatar.key, class: "avatar avatar-show" %>
  </div>
    <p class="created-at"><%= @article.created_at.strftime("%e %B %Y") %></p>
</header>
<hr>
<div class="container">
  <%= simple_format(@article.content) %>
</div>

<hr>

<div class="container mb-3">
  <h3 class="tags-title">Tags</h3>
  <ul>
    <% @article.communities.each do |community| %>
      <li class="tag-selector"><%= community %></li>
    <% end %>
  </ul>
  <ul>
    <% @article.interests.each do |interest| %>
      <li class="tag-selector"><%= interest %></li>
    <% end %>
  </ul>
</div>

<div class="container">
  <%= pluralize @article.comments.size, "comments" %>
  <div>
    <% if @article.comments.blank? %>
      <p class="comment-content">Be the first to leave a comment!</p>
    <% else %>
      <% @article.comments.each do |comment| %>
        <p class="comment-content" id="comment-<%= comment.id %>"><%= comment.content %></p>
        <p class="comment-user"><em>By <%= comment.user.email %></em></p>
      <% end %>
    <% end %>
  </div>
  <%= render 'components/comment-form' %>
</div>

<style>
  .comment-content {
    font-size: 13px;
    margin: 12px 0 0 0;
  }

  .comment-user {
    font-size: 13px;
    margin: 0 0 12px 0;
    color: #a7a7a7;
  }
</style>
